<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Our Valentine Week ‚ù§Ô∏è</title>

<style>
/* ===== Global Layout: No Scroll ===== */
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  color: white;
  text-align: center;
  overflow: hidden;
}

/* -------- Landing Page -------- */
#landingPage {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fad0c4, #ffdde1);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

#landingPage h1 {
  font-size: 3rem;
  margin-bottom: 30px;
  color: #ff2e63;
}

.buttons {
  position: relative;
  width: 300px;
  height: 120px;
}

button {
  padding: 12px 24px;
  font-size: 18px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
}

#yesBtn { background: #ff2e63; color: white; }
#noBtn { background: white; color: #ff2e63; position: absolute; }

/* Floating hearts */
.heart {
  position: absolute;
  font-size: 20px;
  animation: floatUp 6s linear infinite;
}

@keyframes floatUp {
  from { transform: translateY(100vh); opacity: 1; }
  to { transform: translateY(-10vh); opacity: 0; }
}

/* -------- Main Website -------- */
#mainSite { display: none; height: 100vh; }

header { padding: 10px; }
header h1 { margin: 0; font-size: 1.8rem; }
header p { margin: 4px 0; font-size: 0.9rem; }

#countdown { font-size: 0.85rem; margin-top: 4px; }

.container {
  height: calc(100vh - 160px);
  max-width: 1200px;
  margin: auto;
  padding: 8px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 10px;
}

.day-card {
  background: rgba(255,255,255,0.15);
  padding: 10px;
  border-radius: 14px;
  backdrop-filter: blur(8px);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Popup */
.message {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  justify-content: center;
  align-items: center;
}

.message-content {
  background: white;
  color: #333;
  border-radius: 16px;
  padding: 20px;
  width: min(800px,90vw);
  height: min(80vh,600px);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Slideshow */
.slideshow {
  position: relative;
  width: 100%;
  height: 260px;
  overflow: hidden;
  border-radius: 12px;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 0.8s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.slide.active { opacity: 1; }

/* Images fill nicely */
.slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Videos keep original ratio */
.slide video {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  background: black;
}

/* Placeholder for empty media */
.empty-slide {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  background: radial-gradient(circle at center, #ff758c, #000);
}

.closeBtn {
  background: #ff2e63;
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  cursor: pointer;
}

footer { font-size: 0.8rem; padding: 4px; }

#musicControl {
  position: fixed;
  bottom: 15px;
  right: 15px;
  background: #ff2e63;
  color: white;
  border-radius: 50px;
  padding: 8px 14px;
  cursor: pointer;
  display: none;
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
  <source src="music/romantic.mp3" type="audio/mpeg">
</audio>

<div id="musicControl">üîä Music</div>

<div id="landingPage">
  <h1>Will You Be My Valentine? ‚ù§Ô∏è</h1>
  <div class="buttons">
    <button id="yesBtn">Yes ‚ù§Ô∏è</button>
    <button id="noBtn">No üôà</button>
  </div>
</div>

<div id="mainSite">
<header>
<h1>‚ù§Ô∏è Our Valentine Week ‚ù§Ô∏è</h1>
<p>Click each day to unlock the love message.</p>
<div id="countdown"></div>
</header>

<div class="container" id="daysContainer"></div>
<footer>Made with love for us üíû</footer>
</div>

<script>
/* Landing Logic */
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const landing = document.getElementById("landingPage");
const mainSite = document.getElementById("mainSite");
const bgMusic = document.getElementById("bgMusic");
const musicControl = document.getElementById("musicControl");
const countdownEl = document.getElementById("countdown");

function moveNoButton(){
  noBtn.style.left = Math.random()*(window.innerWidth-120)+"px";
  noBtn.style.top = Math.random()*(window.innerHeight-60)+"px";
}
noBtn.addEventListener("mouseover", moveNoButton);
noBtn.addEventListener("click", moveNoButton);

yesBtn.onclick = () => {
  landing.style.display = "none";
  mainSite.style.display = "block";
  musicControl.style.display = "block";
  bgMusic.play().catch(()=>{});
};

musicControl.onclick = () => {
  if(bgMusic.paused){ bgMusic.play(); musicControl.innerText="üîä Music"; }
  else { bgMusic.pause(); musicControl.innerText="üîà Muted"; }
};

/* Hearts */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=4+Math.random()*4+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},500);

/* Data */
const daysData = [
  { title:"üåπ Rose Day ‚Äî Feb 7", date:"02-07", message:"Since the day you came into my life, everything has felt warmer and brighter. Like a rose adds beauty wherever it blooms, you add meaning to every moment I live. Thank you for bringing color, comfort, and happiness into my world. My feelings for you grow a little more beautiful every single day, and I‚Äôm grateful to call you mine. üåπ", images:[] },
  { title:"üíç Propose Day ‚Äî Feb 8", date:"02-08", message:"If life gave me a chance to choose again and again, I would still choose you every single time. Being with you feels natural, peaceful, and exciting all at once. Today, I just want to say that I want you beside me in every chapter of my life ‚Äî in laughter, in struggles, and in dreams yet to come. You are not just part of my story, you are my favorite part. üíç", images:["photos/propose.mp4"] },
  { title:"üç´ Chocolate Day ‚Äî Feb 9", date:"02-09", message:"Life can sometimes feel stressful and exhausting, but somehow you make everything sweeter just by being there. A simple conversation with you, your smile, or your presence makes even ordinary days special. Chocolate is sweet, but the happiness you bring into my life is even sweeter and more comforting. üç´", images:[] },
  { title:"üß∏ Teddy Day ‚Äî Feb 10", date:"02-10", message:"Whenever you feel tired, stressed, or low, I wish I could just hug you tight and make everything okay. Until then, imagine this teddy carrying all my hugs for you. Always remember there is someone who deeply cares about your happiness and wants to see you smile, no matter what happens. You are my comfort and my safe place. üß∏", images:[] },
  { title:"ü§ù Promise Day ‚Äî Feb 11", date:"02-11", message:"I may not be perfect, but my feelings for you are real and sincere. I promise to stand by you on good days and difficult ones, to listen when you need to talk, and to support your dreams as if they were my own. No matter how life changes around us, one thing will remain constant ‚Äî I‚Äôm here for you, always. ü§ù", images:["photos/promise1.jpeg","photos/promise.jpeg"] },
  { title:"ü§ó Hug Day ‚Äî Feb 12", date:"02-12", message:"A hug from you feels like the world suddenly becomes lighter and calmer. In that moment, worries disappear and everything feels right. Whenever life feels heavy, I hope you remember that my arms will always be a place where you can rest, laugh, or simply be yourself without fear. ü§ó", images:["photos/hug1.jpeg","photos/hug.jpeg"] },
  { title:"üíã Kiss Day ‚Äî Feb 13", date:"02-13", message:"A simple kiss from you has the power to turn an ordinary day into a beautiful memory. It carries affection, comfort, and a connection that words cannot fully express. I cherish every little moment we share because someday these small memories will become our most precious stories. Loving you feels so natural and peaceful. üíã", images:["photos/kiss1.jpeg","photos/kiss2.jpeg"] },
  { title:"‚ù§Ô∏è Valentine's Day ‚Äî Feb 14", date:"02-14", message:"Having you in my life feels like finding something precious when I wasn‚Äôt even searching for it. You have become part of my happiness, my dreams, and my everyday peace. On this Valentine‚Äôs Day, I just want to thank you for being you ‚Äî for your patience, your love, and the warmth you bring into my world. No matter what the future holds, I‚Äôm grateful that today we have each other, and that means everything to me. ‚ù§Ô∏è", images:["photos/vale.jpeg"] }
];

function isUnlockedDay(d){
  const t=new Date();
  const s=("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2);
  return s>=d;
}

/* Countdown */
function getNextLocked(){
  const t=new Date();
  const s=("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2);
  return daysData.find(d=>d.date>s)?.date;
}

function updateCountdown(){
  const next=getNextLocked();
  if(!next){ countdownEl.innerText="All love messages unlocked ‚ù§Ô∏è"; return; }
  const [m,d]=next.split("-");
  const target=new Date(new Date().getFullYear(),m-1,d);
  const diff=target-new Date();
  const h=Math.floor(diff/3600000);
  const min=Math.floor((diff/60000)%60);
  const s=Math.floor((diff/1000)%60);
  countdownEl.innerText=`Next surprise in ${h}h ${min}m ${s}s ‚ù§Ô∏è`;
}
setInterval(updateCountdown,1000);
updateCountdown();

/* Slideshow builder ‚Äî safe */
function createSlideshow(mediaList){
  const box=document.createElement("div");
  box.className="slideshow";

  const slides=[];

  if(Array.isArray(mediaList) && mediaList.length>0){
    mediaList.forEach(src=>{
      const slide=document.createElement("div");
      slide.className="slide";

      if(typeof src === "string" && src.toLowerCase().endsWith(".mp4")){
        const video=document.createElement("video");
        video.controls=true;
        video.loop=true;
        video.playsInline=true;
        video.preload="metadata";

        const source=document.createElement("source");
        source.src=src;
        source.type="video/mp4";
        video.appendChild(source);

        slide.appendChild(video);
      } else {
        const img=document.createElement("img");
        img.src=src;
        slide.appendChild(img);
      }

      box.appendChild(slide);
      slides.push(slide);
    });
  }

  if(slides.length === 0){
    const empty=document.createElement("div");
    empty.className="empty-slide slide active";
    empty.innerText="‚ù§Ô∏è Our memories go here ‚ù§Ô∏è";
    box.appendChild(empty);
    return box;
  }

  let index=0;
  slides[index].classList.add("active");

  if(slides.length > 1){
    setInterval(()=>{
      slides[index].classList.remove("active");
      index=(index+1)%slides.length;
      slides[index].classList.add("active");
    },3000);
  }

  return box;
}

/* Build days */
const container=document.getElementById("daysContainer");

daysData.forEach(day=>{
  const card=document.createElement("div");
  card.className="day-card";
  card.innerHTML=`<h3>${day.title}</h3>`;

  const overlay=document.createElement("div");
  overlay.className="message";

  const content=document.createElement("div");
  content.className="message-content";

  const msg=document.createElement("p");
  msg.innerText=day.message;

  const slideshow=createSlideshow(day.images);

  const closeBtn=document.createElement("button");
  closeBtn.className="closeBtn";
  closeBtn.innerText="Close ‚ù§Ô∏è";
  closeBtn.onclick=()=>overlay.style.display="none";

  content.appendChild(msg);
  content.appendChild(slideshow);
  content.appendChild(closeBtn);
  overlay.appendChild(content);
  document.body.appendChild(overlay);

  card.onclick=()=>{
    if(isUnlockedDay(day.date)) overlay.style.display="flex";
    else alert("This love message will unlock on its special day ‚ù§Ô∏è");
  };

  container.appendChild(card);
});
</script>

</body>
</html>
